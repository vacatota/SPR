<div class="row">
    <div class="col-sm-12">
        <div class="card card-border">
            <div class="card-header">
                <div class="row">
                    <div class="col-sm-6 text-sm-right">
                        <button type="button" class="btn btn-sm btn-success waves-effect" (click)="openModal()">
                            <i class="fas fa-plus fa-lg mr-1"></i> Nuevo
                        </button>
                    </div>
                </div>
            </div>

            <div class="container card-body table-responsive">
                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                    class="table table-striped table-bordered row-border hover">
                    <thead>
                        <tr>
                            <th colspan="3"></th>
                            <th colspan="4" class="text-center">Indicadores</th>
                            <th colspan="5"></th>
                        </tr>
                        <tr>
                            <th>Nro.</th>
                            <th>Nombre Línea de Acción</th>
                            <th>Estrategia</th>

                            <th><i class="fa fa-square  m-r-10" style='color: red'></i></th>
                            <th><i class="fa fa-circle m-r-10" style='color: green'></i></th>
                            <th><i class="fa fa-exclamation-triangle m-r-10" style='color: orange'></i></th>
                            <th><i class="fa fa-stop" style='color: blue'></i></th>
                            <th>Riesgo</th>
                            <th>Actividades</th>
                            <th>Estado</th>

                            <th>Acción</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr
                            *ngFor="let subSistem of dataLineaAccionEquipo; let indice = index;">
                            <td>{{ indice + 1 }}</td>
                            <td>{{ subSistem.nombrelineaAccion }}</td>
                            <td>{{ subSistem.nombreEstrategia }}</td>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                            <td>2</td>
                            <td>{{ subSistem.estado == "1" ? "Activo" : "Inactivo" }}</td>

                            <td class="text-center col-sm-auto">
                                <button type="button" tooltip="Editar"
                                    class="btn btn-sm btn-link waves-effect rounded-pill" title="Editar este registro"
                                    (click)="modalElemDetalles(subSistem)">
                                    <i class="fas fa-cog fa-lg"></i>
                                </button>
                                <button type="button" tooltip="Editar"
                                    class="btn btn-sm btn-link waves-effect rounded-pill"
                                    title="Seleccionar este registro" (click)="updateLineaAccion(subSistem, dataArea)">
                                    <i class="fas fa-pencil-alt fa-lg"></i>
                                </button>
                                <button type="button" class="btn btn-sm btn-link waves-effect"
                                    title="Eliminar este registro"
                                    (click)="deletePlanAcccion(subSistem.idSprLineaAccion)">
                                    <i class="fas fa-trash-alt fa-lg"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <jw-modal id="deleteLineAccion">
                <div class="modal-dialog" style="padding-top: 15%">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="myCenterModalLabel">Advertencia!</h4>
                            <button type="button" class="btn-close" (click)="modal.close()"></button>
                        </div>
                        <div class="modal-body">
                            <p class="pl-4">
                                <i class="pl-2 fas fa-exclamation-circle text-warning fa-lg fa-2x"></i>&nbsp;
                                &nbsp;
                                Esta seguro que desea eliminar este registro?
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary waves-effect" (click)="modal.close()">
                                Cancelar
                            </button>
                            <button type="button" class="btn btn-primary" (click)="confirmDelete()">
                                Si, borrar!
                            </button>
                        </div>
                    </div>
                </div>
            </jw-modal>

            <!-- MODAL PARA CREAR Y EDITAR -->
            <jw-modal id="{{ nameModal }}">
                <div class="modal-dialog modal-lg modal-dialog-scrollable" style="padding-top:6%">
                    <div class="modal-content">
                        <div class="modal-header pb-3">
                            <h3 class="modal-title">{{nameLineasAccion}}</h3>
                            <button type="button" class="btn-close" (click)="modal.close();"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body px-5">

                            <form class="needs-validation was-validated" novalidate id="formLineaAccion"
                                [formGroup]="formLineaAccion" autocomplete="off"
                                (ngSubmit)="createPlanAccion(areaAnteriores, areaElementoGuardado, areaElementosOriginales, patrocinadorOriginal )">

                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <label for="idSprEstrategia"
                                            class="col-form-label text-md-right"><b>Estrategia:</b>
                                        </label>
                                    </div>
                                    <div class="col-12 col-md-10 ">
                                        <select id="idSprEstrategia" class="form-select form-control-sm"
                                            formControlName="idSprEstrategia" required
                                            [ngClass]="{'is-invalid': this.formLineaAccion.get('idSprEstrategia')?.errors &&  this.submitted }">
                                            <option>Seleccione</option>
                                            <option *ngFor="let catObjetivoPlan of dataEstrategiaMap"
                                                value="{{ catObjetivoPlan.idSprEstrategia }}">
                                                {{ catObjetivoPlan.nombre }}
                                            </option>
                                        </select>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('idSprEstrategia')?.errors?.['required'] && this.submitted">Campo
                                            requerido.</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <input type="hidden" id formControlName="idSprLineaAccion" requiered
                                            class="is-invalid" />
                                        <label for="nombre" class="col-form-label text-md-right"><b>Línea de
                                                Acción:</b>
                                        </label>
                                    </div>
                                    <div class="col-12 col-md-10 ">
                                        <input id="nombre" type="text" class="form-control" required="true"
                                            formControlName="nombre" oninput="this.value = this.value.toUpperCase();"
                                            [ngClass]="{'is-invalid': this.formLineaAccion.get('nombre')?.errors?.['required'] && this.submitted }" />
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('nombre')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <label for="idSprLineaAccion"
                                            class="col-form-label text-md-right"><b>Descripción:</b>
                                        </label>
                                    </div>
                                    <div class="col-12 col-md-10 ">
                                        <textarea type="text" class="form-control" required="true"
                                            formControlName="descripcion"
                                            oninput="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"
                                            maxlength="1000"
                                            [ngClass]="{'is-invalid':this.formLineaAccion.get('descripcion')?.errors && this.submitted }"
                                            rows="3" cols="30">
                                        </textarea>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('descripcion')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <label for="justificacion"
                                            class="col-form-label text-md-right"><b>Justificación</b>
                                        </label>
                                    </div>
                                    <div class="col-12 col-md-10 ">
                                        <textarea type="text" class="form-control" required="true"
                                            formControlName="justificacion" maxlength="50"
                                            oninput="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"
                                            [ngClass]="{'is-invalid': this.formLineaAccion.get('justificacion')?.errors &&    this.submitted}"
                                            rows="3" cols="30">
                                        </textarea>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('justificacion')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <label for="alcance" class="col-form-label text-md-right"><b>Alcance</b>
                                        </label>
                                    </div>
                                    <div class="col-12 col-md-10 ">
                                        <textarea type="text" class="form-control" required="true"
                                            formControlName="alcance" maxlength="150"
                                            oninput="this.value = this.value.toUpperCase();" [ngClass]="{
                                    'is-invalid': this.formLineaAccion.get('alcance')?.errors && this.submitted }"
                                            rows="3" cols="30">
                                        </textarea>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('alcance')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>
                                </div>
                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <label for="idSprProceso" class="col-form-label text-md-right"><b>Impacto
                                                Proceso:</b>
                                        </label>
                                    </div>
                                    <div class="col-12 col-md-10 ">
                                        <select id="idSprProceso" class="form-select form-control-sm"
                                            formControlName="idSprProceso" required
                                            [ngClass]="{'is-invalid': this.formLineaAccion.get('idSprProceso')?.errors &&  this.submitted }">
                                            <option>Seleccione</option>
                                            <option *ngFor="let rowProceso of dataProceso"
                                                value="{{ rowProceso.idSprProceso }}">
                                                {{ rowProceso.nombre }}{{ rowProceso.idSprProceso }}
                                            </option>
                                        </select>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('idSprProceso')?.errors?.['required'] && this.submitted">Campo
                                            requerido.</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">
                                    <div class=" col col-md-2 text-md-right">
                                        <label for="fechaInicio" class=" form-control-label text-md-right pt-1"><b>Fecha
                                                Inicio:</b></label>
                                    </div>
                                    <div class="col-12 col-md-4">
                                        <input type="date" class="form-control" required="true"
                                            placeholder="fecha Inicio" formControlName="fechaInicio"
                                            [ngClass]="{'is-invalid':this.formLineaAccion.get('fechaInicio')?.errors &&this.submitted}" />
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('fechaInicio')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>

                                    <div class=" col col-md-2 text-md-right">
                                        <label for="fechaFin" class=" form-control-label text-md-right pt-1"><b>Fecha
                                                Fin:</b></label>
                                    </div>
                                    <div class="col-12 col-md-4">
                                        <input type="date" class="form-control" required="true" placeholder="Fecha Fin"
                                            formControlName="fechaFin"
                                            [ngClass]="{'is-invalid':this.formLineaAccion.get('fechaFin')?.errors &&this.submitted}" />
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('fechaFin')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">
                                    <div class="col col-md-2 text-md-right ">
                                        <label for="idSprEquipoGerencial"
                                            class="col-form-label text-md-right"><b>Patrocinador:</b></label>
                                    </div>
                                    <div class="col-12 col-md-4 ">
                                        <select (change)="setEquipoGenrecial($event.target,dataEquipoGerencial)"
                                            id="idSprEquipoGerencial" class="form-select"
                                            formControlName="idSprEquipoGerencial" required="true"
                                            [ngClass]="{'is-invalid': this.formLineaAccion.get('idSprEquipoGerencial')?.errors &&this.submitted}">
                                            <option>Seleccione</option>
                                            <option *ngFor="let catEquipo of dataEquipoGerencial"
                                                value="{{ catEquipo.idSprEquipoGerencial }}">
                                                {{ catEquipo.gradoNombres + ' cedula ' + catEquipo.cedula }}
                                            </option>
                                        </select>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('idSprEquipoGerencial')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>

                                    <div class="col col-md-2 text-md-right ">
                                        <label for="estado" class="col-form-label text-md-right"><b>Estado:</b></label>
                                    </div>
                                    <div class="col-12 col-md-4 ">
                                        <select id="estado" class="form-select" formControlName="estado" required="true"
                                            [ngClass]="{'is-invalid':this.formLineaAccion.get('estado')?.errors &&this.submitted}">
                                            <option value="1" selected>Activo</option>
                                            <option value="2">Inactivo</option>
                                        </select>
                                        <small class="invalid-feedback"
                                            *ngIf="this.formLineaAccion.get('estado')?.errors?.['required'] && this.submitted">Este
                                            campo no puede estar vacio</small>
                                    </div>
                                </div>

                                <div class="form-group row mb-2">

                                </div>

                                <div id="accordion1" class="mb-3">
                                    <div class="card mb-1">
                                        <div class="card-header" id="abc">
                                            <h5 class="m-0">
                                                <a class="btn btn-sm btn-success waves-effect" data-bs-toggle="collapse"
                                                    href="#localImpacto" aria-expanded="true">
                                                    <i class="fas fa-plus fa-lg mr-1"></i>
                                                    Local.Impacto
                                                </a>
                                            </h5>
                                        </div>
                                        <div id="localImpacto" class="collapse" aria-labelledby='abcd'
                                            data-bs-parent="#accordion3">
                                            <div class="card-body">
                                                <div class="row ">

                                                    <div class="col-md-6">

                                                        <h4 class="header-title">Estructura Organizacional</h4>

                                                        <div class="card flex justify-content-center">
                                                            <p-tree [value]="unidades" [filter]="true"
                                                                selectionMode="single" [(selection)]="selectedFile"
                                                                (onNodeSelect)="nodeSelect($event)" scrollHeight="300px"
                                                                (onNodeExpand)="nodeExpand($event)">
                                                            </p-tree>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <h4 class="header-title">Datos Localidad Impacto</h4>

                                                        <div class="form-floating mb-2">
                                                            <textarea type="text" id="localidadImpacto"
                                                                class="form-control form-control-sm"
                                                                formControlName="localidadImpacto"
                                                                oninput="this.value = this.value.toUpperCase();"
                                                                required rows="6" cols="50">
                                                            </textarea>

                                                            <label for="localidadImpacto">Nombre</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="accordion2" class="mb-3">
                                    <div class="card mb-1">
                                        <div class="card-header" id="abc">
                                            <h5 class="m-0">
                                                <a class="btn btn-sm btn-success waves-effect" data-bs-toggle="collapse"
                                                    href="#areas" aria-expanded="true">
                                                    <i class="fas fa-plus fa-lg mr-1"></i>
                                                    Areas
                                                </a>
                                            </h5>
                                        </div>
                                        <div id="areas" class="collapse" aria-labelledby='abcd'
                                            data-bs-parent="#accordion1">
                                            <div class="card-body">
                                                <div class="row ">
                                                    <div>

                                                        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                                            *ngIf="dataArea?.length"
                                                            class="table table-striped table-bordered row-border hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Nro.</th>
                                                                    <th>Nombre Área</th>
                                                                    <th>check</th>
                                                                </tr>
                                                            </thead>

                                                            <tbody *ngIf="!edit">
                                                                <tr
                                                                    *ngFor="let subSistem of dataArea; let indice = index">
                                                                    <td>{{ indice + 1 }}</td>
                                                                    <td>{{ subSistem.nombre }}</td>
                                                                    <td>
                                                                        <input class="form-check-input"
                                                                            (change)="fieldsChange($event, subSistem.idSprArea)"
                                                                            type="checkbox" value id="flexCheckDefault">
                                                                    </td>
                                                                </tr>
                                                            </tbody>

                                                            <tbody *ngIf="edit">
                                                                <tr
                                                                    *ngFor="let subSistem of areaElementoGuardado; let indice = index">
                                                                    <td>{{ indice + 1 }}</td>
                                                                    <td>{{ subSistem.nombre }}</td>
                                                                    <td>
                                                                        <input [checked]="subSistem.checked"
                                                                            class="form-check-input"
                                                                            (change)="fieldsChange($event, subSistem.idSprArea)"
                                                                            type="checkbox" id="flexCheckDefault"
                                                                            [(ngModel)]="subSistem.checked"
                                                                            name="{{subSistem.nombre}}"
                                                                            [ngModelOptions]="{standalone: true}">
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="accordion3" class="mb-3">
                                    <div class="card mb-1">
                                        <div class="card-header" id="abc">
                                            <h5 class="m-0">
                                                <a class="btn btn-sm btn-success waves-effect" data-bs-toggle="collapse"
                                                    href="#participantes" aria-expanded="true">
                                                    <i class="fas fa-plus fa-lg mr-1"></i>
                                                    Participantes
                                                </a>
                                            </h5>
                                        </div>
                                        <div id="participantes" class="collapse" aria-labelledby='abcd'
                                            data-bs-parent="#accordion2">
                                            <div class="card-body">
                                                <div class="row ">

                                                    <div class="form-group row mb-2">
                                                        <div class="col-12 col-md-2">
                                                            <label for="cedula"
                                                                class=" form-control-label text-md-right"><b>Cedula
                                                                    CC:</b>
                                                            </label>
                                                        </div>

                                                        <div class="col-12 col-md-4">
                                                            <input type="text" maxlength="10" formControlName="cedula"
                                                                onKeypress="if (event.keyCode <45 || event.keyCode> 57) event.returnValue = false"
                                                                class="form-control" required="true"
                                                                placeholder="Cédula" id="cedula" name="cedula"
                                                                placeholder="Digite cédula de identidad/ciudadanía"
                                                                [ngClass]="{'is-invalid': this.formLineaAccion.get('cedula')?.errors  && this.submitted  }">
                                                            <div class="col text-danger">
                                                                <span class="font-italic"
                                                                    *ngIf="this.formLineaAccion.get('cedula')?.errors?.['required'] && this.submitted">Este
                                                                    campo no puede estar vacio</span>
                                                            </div>
                                                        </div>

                                                        <div class="col col-md-2 text-md-right">
                                                            <label for="grado"
                                                                class=" form-control-label text-md-right pt-1"><b>Grado:</b></label>
                                                        </div>
                                                        <div class="col-12 col-md-4">
                                                            <select class="form-select " id="grado"
                                                                formControlName="grado" name="grado" required="true"
                                                                [ngClass]="{'is-invalid': this.formLineaAccion.get('grado')?.errors  && this.submitted  }">
                                                                <option value=" ">Seleccione</option>
                                                                <option *ngFor="let grado of grados"
                                                                    value="{{ grado }}">
                                                                    {{ grado }}
                                                                </option>
                                                            </select>
                                                            <div class="col text-danger">
                                                                <span class="font-italic"
                                                                    *ngIf="this.formLineaAccion.get('grado')?.errors?.['required'] && this.submitted">Este
                                                                    campo no puede estar vacio</span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group row mb-2">
                                                        <div class="col-12 col-md-2">
                                                            <label for="nombre"
                                                                class=" form-control-label text-md-right"><b>Nombres:</b></label>
                                                        </div>
                                                        <div class="col-12 col-md-10">
                                                            <input formControlName="nombreParticipante" type="text"
                                                                maxlength="50" class="form-control"
                                                                style="text-transform:uppercase;" required="true"
                                                                id="nombreParticipante" name="nombreParticipante"
                                                                placeholder="Ingrese Apellidos y nombres del participante"
                                                                oninput="this.value = this.value.toUpperCase();"
                                                                type="text"
                                                                [ngClass]="{'is-invalid': this.formLineaAccion.get('nombreParticipante')?.errors  && this.submitted  }">
                                                            <div class="col text-danger">
                                                                <span class="font-italic"
                                                                    *ngIf="this.formLineaAccion.get('nombreParticipante')?.errors?.['required'] && this.submitted">Este
                                                                    campo no puede estar vacio</span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!--
                                                    <div class="form-group row mb-2">
                                                        <div class="col col-md-2 ">
                                                            <label for="estadoParticipa"
                                                                class="col-form-label text-md-right"><b>Estado
                                                                    Participación:</b></label>
                                                        </div>
                                                        <div class="col-12 col-md-4 ">
                                                            <select id="estadoParticipa" class="form-select"
                                                                formControlName="estadoParticipa" required="true">
                                                                <option value="1" selected>Activo</option>
                                                                <option value="2">Inactivo</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    -->

                                                    <div class="form-group row mb-1">
                                                        <!--
                                                        <div class=" col col-md-2 text-md-right">
                                                            <label for="fechaInicioParticipante"
                                                                class=" form-control-label text-md-right pt-1 mt-2"><b>Fecha
                                                                    Inicio:</b></label>
                                                        </div>
                                                        <div class="col-12 col-md-4 mt-2">
                                                            <input type="date" class="form-control" required="true"
                                                                placeholder="Ingrese Fecha Inicio"
                                                                formControlName="fechaInicioParticipante" [ngClass]="{
                                                                  'is-invalid':
                                                                    this.formLineaAccion.get('fechaInicioParticipante')?.errors &&
                                                                    this.submitted
                                                                }" />
                                                            <small class="invalid-feedback"
                                                                *ngIf="this.formLineaAccion.get('fechaInicioParticipante')?.errors?.['required'] && this.submitted">Este
                                                                campo no puede estar vacio</small>
                                                        </div>
                                                        -->
                                                    </div>

                                                    <div class="form-group row mb-3 ">
                                                        <div class="col-12 d-md-flex justify-content-md-end">
                                                            <button type="button" class="btn btn-info"
                                                                style="font-size: 0.75em; padding: 0.45em 0.85em;"
                                                                (click)="pushParticipante()">Agregar</button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row ">
                                                    <table class="table table-striped table-bordered row-border hover">
                                                        <thead>
                                                            <tr>
                                                                <th>Nro.</th>
                                                                <th>Grado</th>
                                                                <th>Nombre</th>
                                                                <th>Cedula</th>
                                                                <th>fecha Inicio</th>
                                                                <th>fecha Fin</th>
                                                                <th>Estado</th>
                                                                <th>Acción</th>
                                                            </tr>
                                                        </thead>

                                                        <tbody>
                                                            <tr
                                                                *ngFor="let subSistem of inputsAnteriores; let indice = index;  ">
                                                                <td>{{ indice + 1 }}</td>
                                                                <td>{{ subSistem.gradoNombres.split(" ")[0] }}</td>
                                                                <td>{{ subSistem.gradoNombres.substring(subSistem.gradoNombres.indexOf('')+ 1) }}</td>
                                                                <td>{{ subSistem.cedula }}</td>
                                                                <td>{{ subSistem.fechaInicio }}</td>
                                                                <td>{{ subSistem.fechaFin }}</td>
                                                                <td *ngIf="subSistem.estado==1">Activo</td>
                                                                <td *ngIf="subSistem.estado==2">Inactivo</td>
                                                                <td class="text-center col-sm-auto">
                                                                    <button type="button"
                                                                        class="btn btn-sm btn-link waves-effect"
                                                                        title="Eliminar este registro"
                                                                        (click)="removeInputAnteriores(indice, subSistem)">
                                                                        <i class="fas fa-trash-alt fa-lg"></i>
                                                                    </button>
                                                                </td>
                                                            </tr>

                                                            <tr
                                                                *ngFor="let subSistem of participantesNuevos; let indice = index;  ">
                                                                <td>{{ indice + 1 }}</td>
                                                                <td>{{ subSistem.grado }}</td>
                                                                <td>{{ subSistem.nombre }}</td>
                                                                <td>{{ subSistem.cedula }}</td>
                                                                <td>{{ subSistem.fechaInicial }}</td>
                                                                <td>{{ subSistem.fechaFinal }}</td>
                                                                <td *ngIf="subSistem.estadoParticipa==1">Activo</td>
                                                                <td *ngIf="subSistem.estadoParticipa==2">Inactivo</td>
                                                                <td>
                                                                    <button type="button"
                                                                        class="btn btn-sm btn-link waves-effect"
                                                                        title="Eliminar este registro"
                                                                        (click)="removeInput(indice)">
                                                                        <i class="fas fa-trash-alt fa-lg"></i>
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"
                                        (click)="closeModal()">
                                        Cerrar
                                    </button>
                                    <button type="submit" class="btn btn-info">
                                        Guardar
                                    </button>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </jw-modal>

            <!-- MODAL DETALLES PLAN ACCION -->
            <jw-modal id="{{ modalEle }}">
                <div class="modal-dialog" style="max-width: 1200px; max-height: 800px; margin-top: 120px;">
                    <div class="modal-content">
                        <div class="modal-header ">
                            <h3 class="modal-title">{{nameDetalles}}</h3>
                            <button type="button" class="btn-close" (click)="modal.close()" aria-label="Close"></button>
                        </div>
                        <div class="card mb-1">
                            <div class="card-body px-5">
                                <ul class="nav nav-tabs" id="elementosTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="home-tab" data-toggle="tab"
                                            data-target="#actividades" type="button" role="tab"
                                            aria-controls="actividades" aria-selected="true">
                                            Actividades
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="profile-tab" data-toggle="tab"
                                            data-target="#riesgos" type="button" role="tab" aria-controls="riesgos"
                                            aria-selected="false">
                                            Riesgos
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="contact-tab" data-toggle="tab"
                                            data-target="#indicadores" type="button" role="tab"
                                            aria-controls="indicadores" aria-selected="false">
                                            Indicadores
                                        </button>
                                    </li>
                                </ul>
                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade show active" id="actividades" role="tabpanel"
                                        aria-labelledby="home-tab">
                                        <app-actividad *ngIf="modalPlanAccion"
                                            [planAccionInput]="modalPlanAccion"></app-actividad>
                                    </div>
                                    <div class="tab-pane fade" id="riesgos" role="tabpanel"
                                        aria-labelledby="profile-tab">
                                        <h1>AQUI VAN LOS RIESGOS</h1>
                                    </div>
                                    <div class="tab-pane fade" id="indicadores" role="tabpanel"
                                        aria-labelledby="contact-tab">
                                        <h1>AQUI VAN LOS INDICADORES</h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </jw-modal>
        </div>
    </div>
</div>